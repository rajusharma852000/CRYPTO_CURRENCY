<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="signup.css">
</head>

<body>
    <header>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="watchlist.html" target="_blank">Watchlist</a></li>
                <li><a id="signup" href="signup.html" >Sign Up</a></li>
            </ul>
        </nav>
    </header>
    <div class="signup-main">
        <h3>Sign Up</h3>
        <form class="signup-form" action="index.html" method="post">
            <input id="name" type="text" placeholder="Name*" required>
            <input type="email" id="email" name="email" placeholder="Email*" required>
            <div class="eye">
                <p id="error-message"></p>
                <input id="password" type="password" placeholder="Password*" required>
                <i id="toogle-password"></i>
            </div>
            <div class="eye">
                <input id="confirm-password" type="password" placeholder="Confirm Password*" required>
                <i id="toogle-confirm-password"></i>
            </div>
            <div class="signup-button">
                <button id="submit" type="submit" >Submit</button>
                <button id="cancel" type="button" onclick="goBack()">Cancel</button>
            </div>
        </form>
    </div>

    <!-- JavaScript -->
    <!-- <script src="https://kit.fontawesome.com/a076d05399.js"></script> -->
        <script>

        function goBack() {
            window.history.back();
        }
        function hideAndShowPassword(ElementId){
            const element = document.querySelector('#' + ElementId);
            const type = element.getAttribute('type');
            type === 'password' ? element.setAttribute('type', 'text') : element.setAttribute('type', 'password');
        }
        function passwordValidity(event, password1, password2){
            const pass1 = document.querySelector('#' + password1);
            const pass2 = document.querySelector('#' + password2);
            if(pass1.value != pass2.value){
                event.preventDefault();
                document.getElementById('error-message').textContent = "Passwords do not match";
                document.getElementById('error-message').style.color = 'red';
                pass1.value= "";
                pass2.value = "";
                setTimeout(()=>{
                    document.getElementById('error-message').textContent = "";
                }, 2000);
            }
        }
        const eyeIcon1 = document.querySelector('#toogle-password');
        eyeIcon1.addEventListener('click', function(){
            hideAndShowPassword('password');
            this.style.borderColor = this.style.borderColor !== 'transparent' ? 'transparent' : 'white';
        });

        const eyeIcon2 = document.querySelector('#toogle-confirm-password');
        eyeIcon2.addEventListener('click', function(){
            hideAndShowPassword('confirm-password');
            this.style.borderColor = this.style.borderColor !== 'transparent' ? 'transparent' : 'white';
        });

        const submit = document.querySelector('#submit');
        submit.addEventListener('click', function(event){
            passwordValidity(event, 'password', 'confirm-password');
        });
    </script>
</body>

</html>
